<div class="flex min-h-full flex-col justify-center px-6 py-12 lg:px-8" [formGroup]="authForm">
  <div class="sm:mx-auto sm:w-full sm:max-w-sm">
    <div class="w-full flex justify-center">
      <span
        class="flex justify-center items-center size-10 place-content-center rounded-lg bg-gray-100 text-xs text-gray-600"><svg
          xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2"
          stroke-linecap="round" stroke-linejoin="round"
          class="icon icon-tabler icons-tabler-outline icon-tabler-hammer">
          <path stroke="none" d="M0 0h24v24H0z"></path>
          <path d="M11.414 10l-7.383 7.418a2.091 2.091 0 0 0 0 2.967a2.11 2.11 0 0 0 2.976 0l7.407 -7.385"></path>
          <path
            d="M18.121 15.293l2.586 -2.586a1 1 0 0 0 0 -1.414l-7.586 -7.586a1 1 0 0 0 -1.414 0l-2.586 2.586a1 1 0 0 0 0 1.414l7.586 7.586a1 1 0 0 0 1.414 0z">
          </path>
        </svg></span>
    </div>
    <h2 class="mt-6 mb-2 text-center text-2xl/9 font-bold tracking-tight text-gray-900">@if(!isLoginForm){ Create new
      account
      }@else{ Log in to your account }</h2>
  </div>

  <div class="mt-10 sm:mx-auto sm:w-full sm:max-w-sm">
    <form class="space-y-6">
      <div>
        <div class="flex items-center justify-between">
          <label for="email" class="block text-sm/6 font-medium text-gray-900">Email address</label>
          <div class="text-sm relative group inline-block">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
              stroke="currentColor" class="size-6 cursor-pointer">
              <path stroke-linecap="round" stroke-linejoin="round"
                d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
            </svg>

            <!-- Tooltip -->
            <span class="absolute right-full top-full
           w-60 max-w-[80vw] break-words rounded-xl bg-gray-800 px-4 py-3 
           text-sm text-white text-left shadow-lg
           opacity-0 group-hover:opacity-100 
           pointer-events-none group-hover:pointer-events-auto
           transition-opacity duration-300">
              Enter a valid email address (e.g. user@example.com) <br />
              Username must be at least 3 chars long. <br />
              Password must be at least 8 chars long.
            </span>
          </div>
        </div>
        <div class="mt-2">
          <input id="email" formControlName="email" type="email" name="email" required autocomplete="email"
            class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6" />
        </div>
      </div>
      @if(!isLoginForm){
      <div>
        <label for="username" class="block text-sm/6 font-medium text-gray-900">Username</label>
        <div class="mt-2">
          <input formControlName="username" id="username" type="text" name="username" required
            class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6" />
        </div>
      </div>
      }
      <div>
        <div class="flex items-center justify-between">
          <label for="password" class="block text-sm/6 font-medium text-gray-900">Password</label>
          <div class="text-sm">
            @if(isLoginForm){
            <a class="font-semibold text-blue-700 hover:text-blue-500 hover:cursor-pointer">Forgot password?</a>
            }
          </div>
        </div>
        <div class="mt-2">
          <input id="password" formControlName="password" type="password" name="password" required
            autocomplete="current-password"
            class="block w-full rounded-md bg-white px-3 py-1.5 text-base text-gray-900 outline-1 -outline-offset-1 outline-gray-300 placeholder:text-gray-400 focus:outline-2 focus:-outline-offset-2 focus:outline-blue-600 sm:text-sm/6" />
        </div>
      </div>

      <div>
        <button type="submit" (click)="onSubmit()"
          class="flex w-full justify-center rounded-md bg-blue-700 px-3 py-1.5 text-sm/6 font-semibold text-white shadow-xs hover:bg-blue-500 focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600">@if(!isLoginForm){
          Register }@else{ Log in }</button>
      </div>
    </form>

    <p class="mt-10 text-center text-sm/6 text-gray-500">
      @if(isLoginForm){You dont have an account?}@else {You already have an account?}
      <button type="button" class="font-semibold text-blue-700 hover:text-blue-500 hover:cursor-pointer"
        (click)="toggleFormMode()">
        @if(isLoginForm){ Register }@else{ Log in }
      </button>
    </p>
  </div>
  <div>
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">{{errorMessage}}</p>
    @if(authForm.get('email')?.touched && authForm.get('email')?.hasError('required')){
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">
      E-mail is required.
    </p>
    }
    @if(authForm.get('email')?.touched && authForm.get('email')?.hasError('email')){
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">
      E-mail is invalid.
    </p>
    }
    @if(!isLoginForm && authForm.get('username')?.touched && authForm.get('username')?.hasError('required')){
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">
      Username is required.
    </p>
    }
    @if(!isLoginForm && authForm.get('username')?.touched && authForm.get('username')?.hasError('minlength')){
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">
      Username must be at least 3 characers long.
    </p>
    }
    @if(authForm.get('password')?.touched && authForm.get('password')?.hasError('required')){
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">
      Password is required.
    </p>
    }
    @if(authForm.get('password')?.touched && authForm.get('password')?.hasError('minlength')){
    <p class="mb-2 text-center text-sm tracking-tight text-red-400">
      Password must be at least 8 characters long.
    </p>
    }
  </div>
</div>